<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>成熟苦瓜</title>
  
  
  <link href="https://blog.sendi.wang/atom.xml" rel="self"/>
  
  <link href="https://blog.sendi.wang/"/>
  <updated>2026-02-05T09:25:21.809Z</updated>
  <id>https://blog.sendi.wang/</id>
  
  <author>
    <name>wangsendi</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>tc网卡限速</title>
    <link href="https://blog.sendi.wang/2026/02/05/linux/tc%E7%BD%91%E5%8D%A1%E9%99%90%E9%80%9F/"/>
    <id>https://blog.sendi.wang/2026/02/05/linux/tc%E7%BD%91%E5%8D%A1%E9%99%90%E9%80%9F/</id>
    <published>2026-02-04T16:00:00.000Z</published>
    <updated>2026-02-05T09:25:21.809Z</updated>
    
    <content type="html"><![CDATA[<h2 id="设置限速"><a href="#设置限速" class="headerlink" title="设置限速"></a>设置限速</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env bash</span></span><br><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">tc qdisc del dev eth0 root 2&gt;/dev/null</span><br><span class="line">tc qdisc add dev eth0 root handle 1: htb default 10</span><br><span class="line"></span><br><span class="line">tc class add dev eth0 parent 1: classid 1:1 htb rate 1000mbit ceil 1000mbit</span><br><span class="line">tc class add dev eth0 parent 1:1 classid 1:10 htb rate 1000mbit ceil 1000mbit</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="删除限速"><a href="#删除限速" class="headerlink" title="删除限速"></a>删除限速</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tc qdisc del dev eth0 root 2&gt;/dev/null</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;设置限速&quot;&gt;&lt;a href=&quot;#设置限速&quot; class=&quot;headerlink&quot; title=&quot;设置限速&quot;&gt;&lt;/a&gt;设置限速&lt;/h2&gt;&lt;figure class=&quot;highlight bash&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre</summary>
      
    
    
    
    <category term="linux" scheme="https://blog.sendi.wang/categories/linux/"/>
    
    
    <category term="tc" scheme="https://blog.sendi.wang/tags/tc/"/>
    
  </entry>
  
  <entry>
    <title>ipmitool</title>
    <link href="https://blog.sendi.wang/2026/01/24/linux/ipmitool/"/>
    <id>https://blog.sendi.wang/2026/01/24/linux/ipmitool/</id>
    <published>2026-01-24T09:37:16.000Z</published>
    <updated>2026-01-27T06:12:52.412Z</updated>
    
    <content type="html"><![CDATA[<h2 id="风扇控制"><a href="#风扇控制" class="headerlink" title="风扇控制"></a>风扇控制</h2><p>设置风扇为手动模式并控制转速，同时查看温度传感器信息。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    <span class="comment"># 确保处于手动模式</span></span><br><span class="line">    ipmitool raw 0x30 0x30 0x01 0x00</span><br><span class="line">    <span class="comment"># 设置所有风扇到 1%</span></span><br><span class="line">    ipmitool raw 0x30 0x30 0x02 0xff 0x01</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="温度传感器"><a href="#温度传感器" class="headerlink" title="温度传感器"></a>温度传感器</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    ipmitool sdr list |grep temp -i</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="功率查看"><a href="#功率查看" class="headerlink" title="功率查看"></a>功率查看</h2><p>查看系统实时功率信息。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    ipmitool dcmi power reading</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="IPMI-网络配置"><a href="#IPMI-网络配置" class="headerlink" title="IPMI 网络配置"></a>IPMI 网络配置</h2><p>配置 IPMI 网络接口为静态 IP 地址。</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    ipmitool lan <span class="built_in">set</span> 1 ipsrc static</span><br><span class="line">    ipmitool lan <span class="built_in">set</span> 1 ipaddr 192.168.0.11</span><br><span class="line">    ipmitool lan <span class="built_in">set</span> 1 netmask 255.255.255.0</span><br><span class="line">    ipmitool lan <span class="built_in">set</span> 1 defgw ipaddr 192.168.0.1</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;风扇控制&quot;&gt;&lt;a href=&quot;#风扇控制&quot; class=&quot;headerlink&quot; title=&quot;风扇控制&quot;&gt;&lt;/a&gt;风扇控制&lt;/h2&gt;&lt;p&gt;设置风扇为手动模式并控制转速，同时查看温度传感器信息。&lt;/p&gt;
&lt;figure class=&quot;highlight bash&quot;</summary>
      
    
    
    
    <category term="linux" scheme="https://blog.sendi.wang/categories/linux/"/>
    
    
    <category term="ipmitool" scheme="https://blog.sendi.wang/tags/ipmitool/"/>
    
  </entry>
  
  <entry>
    <title>IP归属API</title>
    <link href="https://blog.sendi.wang/2026/01/24/linux/ip%E5%BD%92%E5%B1%9E/"/>
    <id>https://blog.sendi.wang/2026/01/24/linux/ip%E5%BD%92%E5%B1%9E/</id>
    <published>2026-01-24T09:37:16.000Z</published>
    <updated>2026-01-26T07:04:52.926Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Bilibili-API"><a href="#Bilibili-API" class="headerlink" title="Bilibili API"></a>Bilibili API</h2><h3 id="根据请求IP确定地理位置"><a href="#根据请求IP确定地理位置" class="headerlink" title="根据请求IP确定地理位置"></a>根据请求IP确定地理位置</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -sSfL https://api.bilibili.com/x/web-interface/zone</span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span><span class="attr">&quot;code&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;message&quot;</span><span class="punctuation">:</span><span class="string">&quot;OK&quot;</span><span class="punctuation">,</span><span class="attr">&quot;ttl&quot;</span><span class="punctuation">:</span><span class="number">1</span><span class="punctuation">,</span><span class="attr">&quot;data&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;addr&quot;</span><span class="punctuation">:</span><span class="string">&quot;115.225.74.163&quot;</span><span class="punctuation">,</span><span class="attr">&quot;country&quot;</span><span class="punctuation">:</span><span class="string">&quot;中国&quot;</span><span class="punctuation">,</span><span class="attr">&quot;province&quot;</span><span class="punctuation">:</span><span class="string">&quot;浙江&quot;</span><span class="punctuation">,</span><span class="attr">&quot;city&quot;</span><span class="punctuation">:</span><span class="string">&quot;绍兴&quot;</span><span class="punctuation">,</span><span class="attr">&quot;isp&quot;</span><span class="punctuation">:</span><span class="string">&quot;电信&quot;</span><span class="punctuation">,</span><span class="attr">&quot;latitude&quot;</span><span class="punctuation">:</span><span class="number">29.99291</span><span class="punctuation">,</span><span class="attr">&quot;longitude&quot;</span><span class="punctuation">:</span><span class="number">120.57872</span><span class="punctuation">,</span><span class="attr">&quot;zone_id&quot;</span><span class="punctuation">:</span><span class="number">4374608</span><span class="punctuation">,</span><span class="attr">&quot;country_code&quot;</span><span class="punctuation">:</span><span class="number">86</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -sSfL https://app.bilibili.com/x/resource/ip</span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span><span class="attr">&quot;code&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;message&quot;</span><span class="punctuation">:</span><span class="string">&quot;OK&quot;</span><span class="punctuation">,</span><span class="attr">&quot;ttl&quot;</span><span class="punctuation">:</span><span class="number">1</span><span class="punctuation">,</span><span class="attr">&quot;data&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;addr&quot;</span><span class="punctuation">:</span><span class="string">&quot;115.225.74.163&quot;</span><span class="punctuation">,</span><span class="attr">&quot;country&quot;</span><span class="punctuation">:</span><span class="string">&quot;中国&quot;</span><span class="punctuation">,</span><span class="attr">&quot;province&quot;</span><span class="punctuation">:</span><span class="string">&quot;浙江&quot;</span><span class="punctuation">,</span><span class="attr">&quot;city&quot;</span><span class="punctuation">:</span><span class="string">&quot;绍兴&quot;</span><span class="punctuation">,</span><span class="attr">&quot;isp&quot;</span><span class="punctuation">:</span><span class="string">&quot;电信&quot;</span><span class="punctuation">,</span><span class="attr">&quot;zone_id&quot;</span><span class="punctuation">:</span><span class="number">4374608</span><span class="punctuation">,</span><span class="attr">&quot;country_code&quot;</span><span class="punctuation">:</span><span class="number">86</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -sSfL https://api.live.bilibili.com/xlive/web-room/v1/index/getIpInfo</span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span><span class="attr">&quot;code&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;message&quot;</span><span class="punctuation">:</span><span class="string">&quot;0&quot;</span><span class="punctuation">,</span><span class="attr">&quot;ttl&quot;</span><span class="punctuation">:</span><span class="number">1</span><span class="punctuation">,</span><span class="attr">&quot;data&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;addr&quot;</span><span class="punctuation">:</span><span class="string">&quot;218.74.167.36&quot;</span><span class="punctuation">,</span><span class="attr">&quot;country&quot;</span><span class="punctuation">:</span><span class="string">&quot;中国&quot;</span><span class="punctuation">,</span><span class="attr">&quot;province&quot;</span><span class="punctuation">:</span><span class="string">&quot;浙江&quot;</span><span class="punctuation">,</span><span class="attr">&quot;city&quot;</span><span class="punctuation">:</span><span class="string">&quot;绍兴&quot;</span><span class="punctuation">,</span><span class="attr">&quot;isp&quot;</span><span class="punctuation">:</span><span class="string">&quot;电信&quot;</span><span class="punctuation">,</span><span class="attr">&quot;latitude&quot;</span><span class="punctuation">:</span><span class="string">&quot;29.99291&quot;</span><span class="punctuation">,</span><span class="attr">&quot;longitude&quot;</span><span class="punctuation">:</span><span class="string">&quot;120.57872&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="查询指定IP地址的归属地"><a href="#查询指定IP地址的归属地" class="headerlink" title="查询指定IP地址的归属地"></a>查询指定IP地址的归属地</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -sSfL https://api.live.bilibili.com/ip_service/v1/ip_service/get_ip_addr</span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span><span class="attr">&quot;code&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;msg&quot;</span><span class="punctuation">:</span><span class="string">&quot;&quot;</span><span class="punctuation">,</span><span class="attr">&quot;message&quot;</span><span class="punctuation">:</span><span class="string">&quot;&quot;</span><span class="punctuation">,</span><span class="attr">&quot;data&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;addr&quot;</span><span class="punctuation">:</span><span class="string">&quot;115.225.74.163&quot;</span><span class="punctuation">,</span><span class="attr">&quot;country&quot;</span><span class="punctuation">:</span><span class="string">&quot;中国&quot;</span><span class="punctuation">,</span><span class="attr">&quot;province&quot;</span><span class="punctuation">:</span><span class="string">&quot;浙江&quot;</span><span class="punctuation">,</span><span class="attr">&quot;city&quot;</span><span class="punctuation">:</span><span class="string">&quot;绍兴&quot;</span><span class="punctuation">,</span><span class="attr">&quot;isp&quot;</span><span class="punctuation">:</span><span class="string">&quot;电信&quot;</span><span class="punctuation">,</span><span class="attr">&quot;latitude&quot;</span><span class="punctuation">:</span><span class="string">&quot;29.99291&quot;</span><span class="punctuation">,</span><span class="attr">&quot;longitude&quot;</span><span class="punctuation">:</span><span class="string">&quot;120.57872&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -sSfL <span class="string">&quot;https://api.live.bilibili.com/ip_service/v1/ip_service/get_ip_addr?ip=223.5.5.5&quot;</span></span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span><span class="attr">&quot;code&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;msg&quot;</span><span class="punctuation">:</span><span class="string">&quot;&quot;</span><span class="punctuation">,</span><span class="attr">&quot;message&quot;</span><span class="punctuation">:</span><span class="string">&quot;&quot;</span><span class="punctuation">,</span><span class="attr">&quot;data&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;addr&quot;</span><span class="punctuation">:</span><span class="string">&quot;223.5.5.5&quot;</span><span class="punctuation">,</span><span class="attr">&quot;country&quot;</span><span class="punctuation">:</span><span class="string">&quot;ALIDNS.COM&quot;</span><span class="punctuation">,</span><span class="attr">&quot;province&quot;</span><span class="punctuation">:</span><span class="string">&quot;ALIDNS.COM&quot;</span><span class="punctuation">,</span><span class="attr">&quot;city&quot;</span><span class="punctuation">:</span><span class="string">&quot;&quot;</span><span class="punctuation">,</span><span class="attr">&quot;isp&quot;</span><span class="punctuation">:</span><span class="string">&quot;阿里云&quot;</span><span class="punctuation">,</span><span class="attr">&quot;latitude&quot;</span><span class="punctuation">:</span><span class="string">&quot;&quot;</span><span class="punctuation">,</span><span class="attr">&quot;longitude&quot;</span><span class="punctuation">:</span><span class="string">&quot;&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -sSfL https://api.live.bilibili.com/client/v1/Ip/getInfoNew</span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span><span class="attr">&quot;code&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;msg&quot;</span><span class="punctuation">:</span><span class="string">&quot;&quot;</span><span class="punctuation">,</span><span class="attr">&quot;message&quot;</span><span class="punctuation">:</span><span class="string">&quot;&quot;</span><span class="punctuation">,</span><span class="attr">&quot;data&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;addr&quot;</span><span class="punctuation">:</span><span class="string">&quot;115.225.74.163&quot;</span><span class="punctuation">,</span><span class="attr">&quot;country&quot;</span><span class="punctuation">:</span><span class="string">&quot;中国&quot;</span><span class="punctuation">,</span><span class="attr">&quot;province&quot;</span><span class="punctuation">:</span><span class="string">&quot;浙江&quot;</span><span class="punctuation">,</span><span class="attr">&quot;city&quot;</span><span class="punctuation">:</span><span class="string">&quot;绍兴&quot;</span><span class="punctuation">,</span><span class="attr">&quot;isp&quot;</span><span class="punctuation">:</span><span class="string">&quot;电信&quot;</span><span class="punctuation">,</span><span class="attr">&quot;latitude&quot;</span><span class="punctuation">:</span><span class="string">&quot;29.99291&quot;</span><span class="punctuation">,</span><span class="attr">&quot;longitude&quot;</span><span class="punctuation">:</span><span class="string">&quot;120.57872&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -sSfL <span class="string">&quot;https://api.live.bilibili.com/client/v1/Ip/getInfoNew?ip=223.5.5.5&quot;</span></span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span><span class="attr">&quot;code&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;msg&quot;</span><span class="punctuation">:</span><span class="string">&quot;&quot;</span><span class="punctuation">,</span><span class="attr">&quot;message&quot;</span><span class="punctuation">:</span><span class="string">&quot;&quot;</span><span class="punctuation">,</span><span class="attr">&quot;data&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;addr&quot;</span><span class="punctuation">:</span><span class="string">&quot;223.5.5.5&quot;</span><span class="punctuation">,</span><span class="attr">&quot;country&quot;</span><span class="punctuation">:</span><span class="string">&quot;ALIDNS.COM&quot;</span><span class="punctuation">,</span><span class="attr">&quot;province&quot;</span><span class="punctuation">:</span><span class="string">&quot;ALIDNS.COM&quot;</span><span class="punctuation">,</span><span class="attr">&quot;city&quot;</span><span class="punctuation">:</span><span class="string">&quot;&quot;</span><span class="punctuation">,</span><span class="attr">&quot;isp&quot;</span><span class="punctuation">:</span><span class="string">&quot;阿里云&quot;</span><span class="punctuation">,</span><span class="attr">&quot;latitude&quot;</span><span class="punctuation">:</span><span class="string">&quot;&quot;</span><span class="punctuation">,</span><span class="attr">&quot;longitude&quot;</span><span class="punctuation">:</span><span class="string">&quot;&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h2 id="腾讯API"><a href="#腾讯API" class="headerlink" title="腾讯API"></a>腾讯API</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -sSfL https://i.news.qq.com/api/ip2city</span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span><span class="attr">&quot;ret&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;errMsg&quot;</span><span class="punctuation">:</span><span class="string">&quot;&quot;</span><span class="punctuation">,</span><span class="attr">&quot;ip&quot;</span><span class="punctuation">:</span><span class="string">&quot;218.74.167.36&quot;</span><span class="punctuation">,</span><span class="attr">&quot;provcode&quot;</span><span class="punctuation">:</span><span class="string">&quot;13&quot;</span><span class="punctuation">,</span><span class="attr">&quot;citycode&quot;</span><span class="punctuation">:</span><span class="string">&quot;123&quot;</span><span class="punctuation">,</span><span class="attr">&quot;country&quot;</span><span class="punctuation">:</span><span class="string">&quot;中国&quot;</span><span class="punctuation">,</span><span class="attr">&quot;province&quot;</span><span class="punctuation">:</span><span class="string">&quot;浙江省&quot;</span><span class="punctuation">,</span><span class="attr">&quot;city&quot;</span><span class="punctuation">:</span><span class="string">&quot;绍兴市&quot;</span><span class="punctuation">,</span><span class="attr">&quot;district&quot;</span><span class="punctuation">:</span><span class="string">&quot;&quot;</span><span class="punctuation">,</span><span class="attr">&quot;isp&quot;</span><span class="punctuation">:</span><span class="string">&quot;&quot;</span><span class="punctuation">,</span><span class="attr">&quot;districtCode&quot;</span><span class="punctuation">:</span><span class="string">&quot;330600&quot;</span><span class="punctuation">,</span><span class="attr">&quot;callback&quot;</span><span class="punctuation">:</span><span class="string">&quot;&quot;</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h2 id="DB-IP-API"><a href="#DB-IP-API" class="headerlink" title="DB-IP API"></a>DB-IP API</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -sSfL https://db-ip.com/demo/home.php?s=</span><br></pre></td></tr></table></figure><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span><span class="attr">&quot;status&quot;</span><span class="punctuation">:</span><span class="string">&quot;ok&quot;</span><span class="punctuation">,</span><span class="attr">&quot;demoInfo&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;ipAddress&quot;</span><span class="punctuation">:</span><span class="string">&quot;150.185.0.0&quot;</span><span class="punctuation">,</span><span class="attr">&quot;continentCode&quot;</span><span class="punctuation">:</span><span class="string">&quot;SA&quot;</span><span class="punctuation">,</span><span class="attr">&quot;continentName&quot;</span><span class="punctuation">:</span><span class="string">&quot;South America&quot;</span><span class="punctuation">,</span><span class="attr">&quot;countryCode&quot;</span><span class="punctuation">:</span><span class="string">&quot;VE&quot;</span><span class="punctuation">,</span><span class="attr">&quot;countryName&quot;</span><span class="punctuation">:</span><span class="string">&quot;Venezuela&quot;</span><span class="punctuation">,</span><span class="attr">&quot;isEuMember&quot;</span><span class="punctuation">:</span><span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span><span class="attr">&quot;currencyCode&quot;</span><span class="punctuation">:</span><span class="string">&quot;VES&quot;</span><span class="punctuation">,</span><span class="attr">&quot;currencyName&quot;</span><span class="punctuation">:</span><span class="string">&quot;Bolivar Soberano&quot;</span><span class="punctuation">,</span><span class="attr">&quot;phonePrefix&quot;</span><span class="punctuation">:</span><span class="string">&quot;58&quot;</span><span class="punctuation">,</span><span class="attr">&quot;languages&quot;</span><span class="punctuation">:</span><span class="punctuation">[</span><span class="string">&quot;es-VE&quot;</span><span class="punctuation">]</span><span class="punctuation">,</span><span class="attr">&quot;stateProvCode&quot;</span><span class="punctuation">:</span><span class="string">&quot;A&quot;</span><span class="punctuation">,</span><span class="attr">&quot;stateProv&quot;</span><span class="punctuation">:</span><span class="string">&quot;Distrito Federal&quot;</span><span class="punctuation">,</span><span class="attr">&quot;district&quot;</span><span class="punctuation">:</span><span class="string">&quot;Libertador Municipality&quot;</span><span class="punctuation">,</span><span class="attr">&quot;city&quot;</span><span class="punctuation">:</span><span class="string">&quot;Caracas&quot;</span><span class="punctuation">,</span><span class="attr">&quot;geonameId&quot;</span><span class="punctuation">:</span><span class="number">3646738</span><span class="punctuation">,</span><span class="attr">&quot;gmtOffset&quot;</span><span class="punctuation">:</span><span class="number">-4</span><span class="punctuation">,</span><span class="attr">&quot;timeZone&quot;</span><span class="punctuation">:</span><span class="string">&quot;America\/Caracas&quot;</span><span class="punctuation">,</span><span class="attr">&quot;latitude&quot;</span><span class="punctuation">:</span><span class="number">10.5045</span><span class="punctuation">,</span><span class="attr">&quot;longitude&quot;</span><span class="punctuation">:</span><span class="number">-66.8871</span><span class="punctuation">,</span><span class="attr">&quot;weatherCode&quot;</span><span class="punctuation">:</span><span class="string">&quot;VEXX0008&quot;</span><span class="punctuation">,</span><span class="attr">&quot;asNumber&quot;</span><span class="punctuation">:</span><span class="number">20312</span><span class="punctuation">,</span><span class="attr">&quot;asName&quot;</span><span class="punctuation">:</span><span class="string">&quot;AS20312&quot;</span><span class="punctuation">,</span><span class="attr">&quot;isp&quot;</span><span class="punctuation">:</span><span class="string">&quot;Fundaci\u00f3n Centro Nacional de Innovaci\u00f3n Tecnol\u00f3gica&quot;</span><span class="punctuation">,</span><span class="attr">&quot;usageType&quot;</span><span class="punctuation">:</span><span class="string">&quot;corporate&quot;</span><span class="punctuation">,</span><span class="attr">&quot;organization&quot;</span><span class="punctuation">:</span><span class="string">&quot;Fundaci\u00f3n Centro Nacional de Innovaci\u00f3n Tecnol\u00f3gica&quot;</span><span class="punctuation">,</span><span class="attr">&quot;isCrawler&quot;</span><span class="punctuation">:</span><span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span><span class="attr">&quot;isProxy&quot;</span><span class="punctuation">:</span><span class="literal"><span class="keyword">false</span></span><span class="punctuation">,</span><span class="attr">&quot;threatLevel&quot;</span><span class="punctuation">:</span><span class="string">&quot;low&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;Bilibili-API&quot;&gt;&lt;a href=&quot;#Bilibili-API&quot; class=&quot;headerlink&quot; title=&quot;Bilibili API&quot;&gt;&lt;/a&gt;Bilibili API&lt;/h2&gt;&lt;h3 id=&quot;根据请求IP确定地理位置&quot;&gt;&lt;a href=&quot;#根</summary>
      
    
    
    
    <category term="linux" scheme="https://blog.sendi.wang/categories/linux/"/>
    
    
    <category term="IP" scheme="https://blog.sendi.wang/tags/IP/"/>
    
    <category term="归属地" scheme="https://blog.sendi.wang/tags/%E5%BD%92%E5%B1%9E%E5%9C%B0/"/>
    
  </entry>
  
  <entry>
    <title>热拔插 NVMe 磁盘</title>
    <link href="https://blog.sendi.wang/2026/01/24/linux/%E7%83%AD%E6%8B%94%E6%8F%92%20NVMe%20%E7%A3%81%E7%9B%98/"/>
    <id>https://blog.sendi.wang/2026/01/24/linux/%E7%83%AD%E6%8B%94%E6%8F%92%20NVMe%20%E7%A3%81%E7%9B%98/</id>
    <published>2026-01-24T09:37:16.000Z</published>
    <updated>2026-01-30T10:01:19.193Z</updated>
    
    <content type="html"><![CDATA[<h2 id="解绑-NVMe-设备-临时"><a href="#解绑-NVMe-设备-临时" class="headerlink" title="解绑 NVMe 设备(临时)"></a>解绑 NVMe 设备(临时)</h2><p>查看设备 PCI 地址：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">readlink</span> /sys/class/nvme/nvme3/device</span><br><span class="line"><span class="comment"># 输出类似: ../../../0000:82:00.0</span></span><br></pre></td></tr></table></figure><p>解绑设备：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;0000:82:00.0&#x27;</span> &gt; /sys/bus/pci/drivers/nvme/unbind</span><br></pre></td></tr></table></figure><h2 id="重新绑定"><a href="#重新绑定" class="headerlink" title="重新绑定"></a>重新绑定</h2><p>扫描 PCI 总线：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> 1 &gt; /sys/bus/pci/rescan</span><br></pre></td></tr></table></figure><p>绑定设备：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span> <span class="string">&#x27;0000:82:00.0&#x27;</span> &gt; /sys/bus/pci/drivers/nvme/bind</span><br></pre></td></tr></table></figure><h2 id="使用-driverctl（持久化）"><a href="#使用-driverctl（持久化）" class="headerlink" title="使用 driverctl（持久化）"></a>使用 driverctl（持久化）</h2><p>适合设备直通给虚拟机的场景。</p><p>解绑并绑定到空驱动：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">driverctl set-override 0000:82:00.0 pci-stub</span><br></pre></td></tr></table></figure><p>恢复默认驱动：</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">driverctl unset-override 0000:82:00.0</span><br></pre></td></tr></table></figure><blockquote><p><code>--nosave</code> 选项可以不持久化，重启后恢复。</p></blockquote>]]></content>
    
    
      
      
    <summary type="html">&lt;h2 id=&quot;解绑-NVMe-设备-临时&quot;&gt;&lt;a href=&quot;#解绑-NVMe-设备-临时&quot; class=&quot;headerlink&quot; title=&quot;解绑 NVMe 设备(临时)&quot;&gt;&lt;/a&gt;解绑 NVMe 设备(临时)&lt;/h2&gt;&lt;p&gt;查看设备 PCI 地址：&lt;/p&gt;
&lt;figure</summary>
      
    
    
    
    <category term="linux" scheme="https://blog.sendi.wang/categories/linux/"/>
    
    
    <category term="nvme" scheme="https://blog.sendi.wang/tags/nvme/"/>
    
  </entry>
  
  <entry>
    <title>linux</title>
    <link href="https://blog.sendi.wang/2026/01/24/linux/linux/"/>
    <id>https://blog.sendi.wang/2026/01/24/linux/linux/</id>
    <published>2026-01-24T09:37:15.000Z</published>
    <updated>2026-01-24T17:51:17.961Z</updated>
    
    
    
    
    
    <category term="目录" scheme="https://blog.sendi.wang/tags/%E7%9B%AE%E5%BD%95/"/>
    
  </entry>
  
</feed>
